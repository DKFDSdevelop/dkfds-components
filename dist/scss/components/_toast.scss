@use "../values/fds-values" as fds;
@use "../mixins/breakpoints" as breakpoints;
@use "../elements/buttons" as buttons;

$toast-backgrounds: (
    success: fds.$toast-success-background-color,
    warning: fds.$toast-warning-background-color,
    error: fds.$toast-error-background-color,
    info: fds.$toast-info-background-color
);

$toast-icon-names: (
    success: fds.$toast-success-icon,
    warning: fds.$toast-warning-icon,
    error: fds.$toast-error-icon,
    info: fds.$toast-info-icon
);

$toast-icon-backgrounds: (
    success: fds.$toast-success-color,
    warning: fds.$toast-warning-color,
    error: fds.$toast-error-color,
    info: fds.$toast-info-color
);

.toast-container {
    position: fixed;
    right: fds.units(4);
    left: fds.units(4);
    top: fds.units(4);
    bottom: auto;
    z-index: 7000;

    @include breakpoints.media-breakpoint-up(md) {
        right: fds.units(4);
        left: auto;
        top: fds.units(8);
        bottom: auto;
    }
}

.toast {
    width: 100%;
    max-width: 100%;
    background-color: fds.color(fds.$toast-default-background-color);
    display: flex;
    transition: opacity .15s linear;
    margin-bottom: fds.units(4);
    box-shadow: fds.shadow(fds.$toast-shadow);

    &:not(.show) {
        opacity: 0;
    }

    &.hide {
        display: none;
    }

    @include breakpoints.media-breakpoint-up(md) {
        width: 464px;
    }

    .toast-icon {
        align-items: center;
        display: flex;
        padding-left: calc(#{fds.units(4)} + #{fds.units(5)});
        padding-right: fds.units(4);
        background-size: fds.units(505);
        background-repeat: no-repeat;
        background-position: center center;
    }

    .toast-message {
        padding: fds.units(4);
        position: relative;
        width: 100%;

        .toast-close {
            @include buttons.button-unstyled;
            position: absolute;
            top: fds.units(4);
            right: fds.units(4);
            text-indent: -9999px;
            width: 24px;
            height: 24px;
            cursor: pointer;

            background-image: url(fds.$icons-folder-path+'/'+'close.svg');
            background-repeat: no-repeat;
        }

        p {
            margin: 0px;
            word-break: break-word;

            &:first-of-type {
                margin-right: fds.units(6);
            }
        }
    }
}

@each $name,
$bgcolor in $toast-backgrounds {
    .toast-#{$name} {
        background-color: fds.color($bgcolor);
    }
}

@each $name,
$iconcolor in $toast-icon-backgrounds {
    .toast-#{$name} .toast-icon {
        background-color: fds.color($iconcolor);
    }
}

@each $name,
$iconname in $toast-icon-names {
    .toast-#{$name} .toast-icon {
        background-image: url(fds.$icons-folder-path+'/'+$iconname+'.svg');
    }
}
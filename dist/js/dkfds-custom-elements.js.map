{"version":3,"file":"js/dkfds-custom-elements.js","mappings":"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","sources":["webpack://dkfds/./src/js/custom-elements/fds-input/fds-input-glossary.js","webpack://dkfds/./src/js/custom-elements/fds-input/fds-input-attribute-validators.js","webpack://dkfds/./src/js/custom-elements/fds-input/fds-input-helpers.js","webpack://dkfds/./src/js/custom-elements/fds-input/fds-input-attribute-changes.js","webpack://dkfds/./src/js/custom-elements/fds-input/fds-input-build-element.js","webpack://dkfds/./src/js/components/tooltip.js","webpack://dkfds/./src/js/custom-elements/fds-input/fds-input.js","webpack://dkfds/./src/js/dkfds-custom-elements.js"],"sourcesContent":["'use strict';\r\n\r\nexport let glossary = {\r\n    'errorText': 'Fejl',\r\n    'editText': 'Rediger',\r\n    'requiredText': 'skal udfyldes',\r\n    'optionalText': 'frivilligt',\r\n    'oneCharacterLeftText': 'Du har {value} tegn tilbage',\r\n    'manyCharactersLeftText': 'Du har {value} tegn tilbage',\r\n    'oneCharacterExceededText': 'Du har {value} tegn for meget',\r\n    'manyCharactersExceededText': 'Du har {value} tegn for meget',\r\n    'maxCharactersText': 'Du kan indtaste op til {value} tegn',\r\n    'tooltipIconText': 'LÃ¦s mere'\r\n};\r\n\r\nexport function updateGlossary(oldGlossary, newGlossary) {\r\n    let keys = Object.keys(newGlossary);\r\n    keys.forEach((key) => {\r\n        if (oldGlossary[key] !== undefined) {\r\n            oldGlossary[key] = newGlossary[key]\r\n        }\r\n    });\r\n}","'use strict';\r\n\r\nexport function isValidType(type) {\r\n    const TYPES = ['text', 'email', 'number', 'password', 'tel', 'url'];\r\n\r\n    if (TYPES.includes(type)) { \r\n        return true; \r\n    }\r\n    else { \r\n        return false; \r\n    }\r\n}\r\n\r\nexport function isValidInteger(integer) {\r\n    let number = parseInt(integer);\r\n    return Number.isInteger(number);\r\n}\r\n\r\nexport function isValidText(s) {\r\n    // If s is falsy, it is not a non-empty string\r\n    if (!s) {\r\n        return false;\r\n    }\r\n    // If s is a string, check that it doesn't contain only whitespace\r\n    else if (typeof s === 'string' || s instanceof String) {\r\n        if (s.trim() === '') {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    // s is not a string\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function isTrue(b) {\r\n    if (b !== null && b !== 'false' && b !== false) {\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}","'use strict';\r\n\r\n/* \r\nFUNCTIONS FOR DEFAULT SETTINGS\r\n*/\r\n\r\nexport function setDefaultInputId(labelElement, inputElement) {\r\n    let randomString = 'input-' + Date.now().toString().slice(-3) + Math.floor(Math.random() * 1000000).toString();\r\n    labelElement.setAttribute('for', randomString);\r\n    inputElement.setAttribute('id', randomString);\r\n}\r\n\r\nexport function setDefaultType(inputElement) {\r\n    inputElement.setAttribute('type', 'text');\r\n}\r\n\r\n/* \r\nCHARACTER LIMIT\r\n*/\r\n\r\nfunction characterLimitMessage(glossary, charactersLeft) {\r\n    let message = \"\";\r\n\r\n    if (charactersLeft === -1) {\r\n        let exceeded = Math.abs(charactersLeft);\r\n        message = glossary['oneCharacterExceededText'].replace(/{value}/, exceeded);\r\n    }\r\n    else if (charactersLeft === 1) {\r\n        message = glossary['oneCharacterLeftText'].replace(/{value}/, charactersLeft);\r\n    }\r\n    else if (charactersLeft >= 0) {\r\n        message = glossary['manyCharactersLeftText'].replace(/{value}/, charactersLeft);\r\n    }\r\n    else {\r\n        let exceeded = Math.abs(charactersLeft);\r\n        message = glossary['manyCharactersExceededText'].replace(/{value}/, exceeded);\r\n    }\r\n\r\n    return message;\r\n}\r\n\r\nexport function updateVisibleMessage(glossary, charactersLeft, inputElement, characterLimitElement) {\r\n    let newMessage = characterLimitMessage(glossary, charactersLeft);\r\n    let visibleMessage = characterLimitElement.querySelector('.visible-message');\r\n\r\n    if (charactersLeft < 0) {\r\n        visibleMessage.classList.add('limit-exceeded');\r\n        inputElement.classList.add('form-limit-error');\r\n    }\r\n    else {\r\n        visibleMessage.classList.remove('limit-exceeded');\r\n        inputElement.classList.remove('form-limit-error');\r\n    }\r\n\r\n    visibleMessage.innerHTML = newMessage;\r\n}\r\n\r\nexport function updateSRMessage(glossary, charactersLeft, characterLimitElement) {\r\n    let newMessage = characterLimitMessage(glossary, charactersLeft);\r\n    let srMessage = characterLimitElement.querySelector('.sr-message');\r\n    srMessage.innerHTML = newMessage;\r\n}\r\n\r\n/* \r\nREMAINING HELPERS\r\n*/\r\n\r\nexport function setHelptextId(helptextElement, inputElement) {\r\n    helptextElement.id = inputElement.id + '-helptext';\r\n}\r\n\r\nexport function setErrorId(errorElement, inputElement) {\r\n    errorElement.id = inputElement.id + '-error';\r\n}\r\n\r\nexport function setCharacterLimitId(characterLimitElement, inputElement) {\r\n    characterLimitElement.querySelector('.max-limit').id = inputElement.id + '-limit';\r\n}\r\n\r\nexport function setTooltipId(tooltipElement, inputElement) {\r\n    tooltipElement.dataset.tooltipId = inputElement.id + '-tooltip';;\r\n}\r\n\r\nexport function updateErrorMessage(errorElement, errorText, srText) {\r\n    errorElement.innerHTML = '<span class=\"sr-only\">' + srText + ': </span>' + errorText;\r\n}\r\n\r\nexport function updateEditButton(editButtonElement, labelText, editText) {\r\n    editButtonElement.innerHTML = '<svg class=\"icon-svg\" focusable=\"false\" aria-hidden=\"true\"><use xlink:href=\"#mode\"></use></svg>' + editText + '<span class=\"sr-only\"> ' + labelText + '</span>';\r\n}\r\n\r\nexport function updateRequiredLabel(labelElement, labelText, requiredText) {\r\n    labelElement.innerHTML = labelText + '<span class=\"weight-normal\"> (*' + requiredText + ')</span>';\r\n}\r\n\r\nexport function updateOptionalLabel(labelElement, labelText, optionalText) {\r\n    labelElement.innerHTML = labelText + '<span class=\"weight-normal\"> (' + optionalText + ')</span>';\r\n}","'use strict';\r\n\r\nimport {isValidText, isValidInteger, isValidType, isTrue} from './fds-input-attribute-validators';\r\nimport * as Helpers from './fds-input-helpers';\r\n\r\nexport function autocomplete(newValue, inputElement) {\r\n    // Attribute changed to valid value\r\n    if (isValidText(newValue)) {\r\n        inputElement.setAttribute('autocomplete', newValue);\r\n    }\r\n    // Attribute removed or invalid value\r\n    else {\r\n        inputElement.removeAttribute('autocomplete');\r\n    }\r\n}\r\n\r\nexport function disabled(newValue, labelElement, inputElement, inputWrapperElement) {\r\n    // Attribute changed\r\n    if (isTrue(newValue)) {\r\n        labelElement.classList.add('disabled');\r\n        inputElement.setAttribute('disabled', '');\r\n        inputWrapperElement.classList.add('disabled');\r\n    }\r\n    // Attribute removed\r\n    else {\r\n        labelElement.classList.remove('disabled');\r\n        inputElement.removeAttribute('disabled');\r\n        inputWrapperElement.classList.remove('disabled');\r\n    }\r\n}\r\n\r\nexport function error(newValue, wrapperElement, inputElement) {\r\n    // Attribute changed\r\n    if (isValidText(newValue)) {\r\n        wrapperElement.classList.add('form-error');\r\n        inputElement.setAttribute('aria-invalid', 'true');\r\n    }\r\n    // Attribute removed\r\n    else {\r\n        wrapperElement.classList.remove('form-error');\r\n        inputElement.removeAttribute('aria-invalid');\r\n    }\r\n}\r\n\r\nexport function helptext(newValue, helptextElement) {\r\n    // Attribute changed to valid value\r\n    if (isValidText(newValue)) {\r\n        helptextElement.textContent = newValue;\r\n    }\r\n    // Attribute removed or invalid value\r\n    else {\r\n        helptextElement.textContent = '';\r\n    }\r\n}\r\n\r\nexport function inputid(newValue, labelElement, inputElement) {\r\n    // Attribute changed to valid value\r\n    if (isValidText(newValue)) {\r\n        labelElement.setAttribute('for', newValue);\r\n        inputElement.setAttribute('id', newValue);\r\n    }\r\n    // Attribute removed or invalid value\r\n    else {\r\n        Helpers.setDefaultInputId(labelElement, inputElement);\r\n    }\r\n}\r\n\r\nexport function label(newValue, labelElement) {\r\n    if (isValidText(newValue)) {\r\n        labelElement.textContent = newValue;\r\n    }\r\n}\r\n\r\nexport function maxchar(newValue, inputElement, characterLimitElement, connected, glossary, handleKeyUp, handleFocus, handleBlur, handlePageShow, value, containsCharacterLimit) {\r\n    // Attribute changed\r\n    if (isValidInteger(newValue)) {\r\n        characterLimitElement.querySelector('.max-limit').innerHTML = glossary['maxCharactersText'].replace(/{value}/, newValue);\r\n\r\n        let charactersRemaining = newValue;\r\n        if (value) {\r\n            charactersRemaining = parseInt(newValue) - value.length;\r\n        }\r\n        Helpers.updateVisibleMessage(glossary, charactersRemaining, inputElement, characterLimitElement);\r\n        Helpers.updateSRMessage(glossary, charactersRemaining, characterLimitElement);\r\n    }\r\n\r\n    // Attribute added\r\n    if (connected && !containsCharacterLimit && isValidInteger(newValue)) {\r\n        inputElement.addEventListener('keyup', handleKeyUp, false);\r\n        inputElement.addEventListener('focus', handleFocus, false);\r\n        inputElement.addEventListener('blur', handleBlur, false);\r\n        window.addEventListener('pageshow', handlePageShow, false);\r\n    }\r\n    // Attribute removed or invalid\r\n    else if (connected && containsCharacterLimit && !isValidInteger(newValue)) {\r\n        inputElement.removeEventListener('keyup', handleKeyUp, false);\r\n        inputElement.removeEventListener('focus', handleFocus, false);\r\n        inputElement.removeEventListener('blur', handleBlur, false);\r\n        window.removeEventListener('pageshow', handlePageShow, false);\r\n    }\r\n}\r\n\r\nexport function maxwidth(newValue, inputElement) {\r\n    // Attribute changed\r\n    if (isValidInteger(newValue)) {\r\n        let paddingPixels = 30; // Input padding-left and padding-right are 15px\r\n        let borderPixels =   4; // Input border-left and border-right are 2px (worst case)\r\n        inputElement.style.maxWidth = 'calc(' + parseInt(newValue) + 'ch + ' + (paddingPixels + borderPixels) + 'px)';  \r\n        inputElement.style.width = '100%';\r\n    }\r\n    // Attribute removed\r\n    else {\r\n        inputElement.style.maxWidth = '';\r\n        inputElement.style.width = '';\r\n    }\r\n}\r\n\r\nexport function name(newValue, inputElement) {\r\n    if (isValidText(newValue)) {\r\n        inputElement.setAttribute('name', newValue);\r\n    }\r\n}\r\n\r\nexport function prefix(newValue, inputWrapperElement, prefixElement) {\r\n    // Attribute changed to valid value\r\n    if (isValidText(newValue)) {\r\n        inputWrapperElement.classList.add('form-input-wrapper--prefix');\r\n        prefixElement.textContent = newValue;\r\n    }\r\n    // Attribute removed or invalid value\r\n    else {\r\n        inputWrapperElement.classList.remove('form-input-wrapper--prefix');\r\n    }\r\n}\r\n\r\nexport function readonly(newValue, inputElement, inputWrapperElement) {\r\n    // Attribute changed\r\n    if (isTrue(newValue)) {\r\n        inputElement.setAttribute('readonly', '');\r\n        inputWrapperElement.classList.add('readonly');\r\n    }\r\n    // Attribute removed\r\n    else {\r\n        inputElement.removeAttribute('readonly');\r\n        inputWrapperElement.classList.remove('readonly');\r\n    }\r\n}\r\n\r\nexport function required(newValue, inputElement) {\r\n    // Attribute changed\r\n    if (isTrue(newValue)) {\r\n        inputElement.setAttribute('required', '');\r\n    }\r\n    // Attribute removed\r\n    else {\r\n        inputElement.removeAttribute('required');\r\n    }\r\n}\r\n\r\nexport function suffix(newValue, inputWrapperElement, suffixElement) {\r\n    // Attribute changed\r\n    if (isValidText(newValue)) {\r\n        inputWrapperElement.classList.add('form-input-wrapper--suffix');\r\n        suffixElement.textContent = newValue;\r\n    }\r\n    // Attribute removed\r\n    else {\r\n        inputWrapperElement.classList.remove('form-input-wrapper--suffix');\r\n    }\r\n}\r\n\r\nexport function tooltip(newValue, tooltipElement) {\r\n    // Attribute changed\r\n    if (isValidText(newValue)) {\r\n        tooltipElement.dataset.tooltip = newValue;\r\n    }\r\n}\r\n\r\nexport function type(newValue, inputElement) {\r\n    if (isValidType(newValue)) {\r\n        inputElement.setAttribute('type', newValue);\r\n    }\r\n    else {\r\n        Helpers.setDefaultType(inputElement);\r\n    }\r\n}\r\n\r\nexport function value(newValue, inputElement, characterLimitElement, connected, glossary, maxchar) {\r\n    // Attribute changed\r\n    if (newValue !== null) {\r\n        inputElement.setAttribute('value', newValue);\r\n    }\r\n    // Attribute removed\r\n    else {\r\n        inputElement.removeAttribute('value');\r\n    }\r\n    // Ensure character limit shows the correct number of remaining characters at element creation\r\n    if (!connected && isValidInteger(maxchar)) {\r\n        let chars = parseInt(maxchar) - newValue.length;\r\n        Helpers.updateVisibleMessage(glossary, chars, inputElement, characterLimitElement);\r\n        Helpers.updateSRMessage(glossary, chars, characterLimitElement);\r\n    }\r\n}","'use strict';\r\n\r\nimport {isValidText, isValidInteger} from './fds-input-attribute-validators';\r\n\r\n/* Functions for initial creation of fds-input elements */\r\n\r\nexport function createWrapperElement() {\r\n    let wrapperElement = document.createElement('div');\r\n    wrapperElement.classList.add('form-group');\r\n    return wrapperElement;\r\n}\r\n\r\nexport function createLabelElement() {\r\n    let labelElement = document.createElement('label');\r\n    labelElement.classList.add('form-label');\r\n    return labelElement;\r\n}\r\n\r\nexport function createTooltipElement(glossary) {\r\n    let tooltipElement = document.createElement('span');\r\n    tooltipElement.classList.add('tooltip-wrapper', 'custom-element-tooltip', 'ml-2');\r\n    tooltipElement.dataset.tooltip = '';\r\n    tooltipElement.dataset.tooltipId = '';\r\n    tooltipElement.dataset.position = 'above';\r\n    tooltipElement.dataset.trigger = 'click';\r\n    tooltipElement.innerHTML = \r\n        '<button class=\"button button-unstyled tooltip-target\" type=\"button\" aria-label=\"' + glossary['tooltipIconText'] + '\">' + \r\n            '<svg class=\"icon-svg mr-0 mt-0\" focusable=\"false\" aria-hidden=\"true\"><use xlink:href=\"#help\"></use></svg>' + \r\n        '</button>';\r\n    return tooltipElement;\r\n}\r\n\r\nexport function createHelptextElement() {\r\n    let helptextElement = document.createElement('span');\r\n    helptextElement.classList.add('form-hint');\r\n    return helptextElement;\r\n}\r\n\r\nexport function createErrorElement() {\r\n    let errorElement = document.createElement('span');\r\n    errorElement.classList.add('form-error-message');\r\n    return errorElement;\r\n}\r\n\r\nexport function createEditWrapperElement() {\r\n    let editWrapperElement = document.createElement('div');\r\n    editWrapperElement.classList.add('edit-wrapper');\r\n    return editWrapperElement;\r\n}\r\n\r\nexport function createInputWrapperElement() {\r\n    let inputWrapperElement = document.createElement('div');\r\n    inputWrapperElement.classList.add('form-input-wrapper');\r\n    return inputWrapperElement;\r\n}\r\n\r\nexport function createPrefixElement() {\r\n    let prefixElement = document.createElement('div');\r\n    prefixElement.classList.add('form-input-prefix');\r\n    prefixElement.setAttribute('aria-hidden', 'true');\r\n    return prefixElement;\r\n}\r\n\r\nexport function createInputElement() {\r\n    let inputElement = document.createElement('input');\r\n    inputElement.classList.add('form-input');\r\n    return inputElement;\r\n}\r\n\r\nexport function createSuffixElement() {\r\n    let suffixElement = document.createElement('div');\r\n    suffixElement.classList.add('form-input-suffix');\r\n    suffixElement.setAttribute('aria-hidden', 'true');\r\n    return suffixElement;\r\n}\r\n\r\nexport function createEditButtonElement(handleEditClicked) {\r\n    let editButtonElement = document.createElement('button');\r\n    editButtonElement.setAttribute('type', 'button');\r\n    editButtonElement.classList.add('function-link', 'edit-button');\r\n    editButtonElement.addEventListener('click', handleEditClicked, false);\r\n    return editButtonElement;\r\n}\r\n\r\nexport function createCharacterLimitElement() {\r\n    let characterLimitElement = document.createElement('div');\r\n    characterLimitElement.classList.add('character-limit-wrapper');\r\n    characterLimitElement.innerHTML = \r\n        '<span class=\"max-limit\"></span>' + \r\n        '<span class=\"visible-message form-hint\" aria-hidden=\"true\"></span>' + \r\n        '<span class=\"sr-message\" aria-live=\"polite\"></span>';\r\n    return characterLimitElement;\r\n}\r\n\r\n/* Functions for rebuilding fds-input */\r\n\r\nexport function setInputAriaDescribedBy(error, helptext, maxchar, errorElement, helptextElement, characterLimitElement, inputElement) {\r\n    let ariaDescribedBy = '';\r\n    if (isValidText(error)) {\r\n        ariaDescribedBy = ariaDescribedBy + errorElement.id + ' ';\r\n    }\r\n    if (isValidText(helptext)) {\r\n        ariaDescribedBy = ariaDescribedBy + helptextElement.id + ' ';\r\n    }\r\n    if (isValidInteger(maxchar)) {\r\n        ariaDescribedBy = ariaDescribedBy + characterLimitElement.querySelector('.max-limit').id + ' ';\r\n    }\r\n    if (ariaDescribedBy.trim() !== '') {\r\n        inputElement.setAttribute('aria-describedby', ariaDescribedBy.trim());\r\n    }\r\n}","'use strict';\r\n\r\nconst ARROW_DISTANCE_TO_TARGET = 4; // Must match '$-arrow-dist-to-target' in 'src\\stylesheets\\components\\_tooltip.scss'\r\nconst ARROW_HEIGHT = 8;             // Must match '$-arrow-height' in 'src\\stylesheets\\components\\_tooltip.scss'\r\nconst MIN_MARGIN = 8;               // Minimum margin to the edge of the window\r\n\r\nfunction Tooltip(wrapper) {\r\n    if ((wrapper.getElementsByClassName('tooltip-target')).length === 0) {\r\n        throw new Error(`Missing tooltip target. Add class 'tooltip-target' to element inside tooltip wrapper.`);\r\n    }\r\n    else if (!wrapper.hasAttribute('data-tooltip') || wrapper.dataset.tooltip === '') {\r\n        throw new Error(`Missing tooltip text. Wrapper must have data attribute 'data-tooltip'.`);\r\n    }\r\n    else if (wrapper.dataset.trigger !== 'hover' && wrapper.dataset.trigger !== 'click') {\r\n        throw new Error(`Missing trigger. Tooltip wrapper must have data attribute 'data-trigger=\"hover\"' or 'data-trigger=\"click\"'.`);\r\n    }\r\n    else if (!wrapper.hasAttribute('data-tooltip-id') || wrapper.dataset.tooltipId === '') {\r\n        throw new Error(`Missing ID. Tooltip wrapper must have data attribute 'data-tooltip-id'.`);\r\n    }\r\n    else {\r\n        this.wrapper = wrapper;\r\n        this.target = wrapper.getElementsByClassName('tooltip-target')[0];\r\n\r\n        this.tooltip = document.createElement('span');\r\n        this.tooltip.classList.add('tooltip');\r\n\r\n        let arrow = document.createElement('span');\r\n        arrow.classList.add('tooltip-arrow');\r\n        arrow.setAttribute('aria-hidden', true);\r\n    }\r\n}\r\n\r\nTooltip.prototype.init = function () {\r\n    let wrapper = this.wrapper;\r\n    let tooltipTarget = this.target;\r\n    let tooltipEl = this.tooltip;\r\n\r\n    hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n\r\n    /* Ensure tooltip remains visible if window size is reduced */\r\n    window.addEventListener('resize', function () {\r\n        updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n    });\r\n\r\n    document.getElementsByTagName('body')[0].addEventListener('click', closeAllTooltips);\r\n    document.getElementsByTagName('body')[0].addEventListener('keyup', closeOnTab);\r\n\r\n    /* A \"true\" tooltip describes the element which triggered it and is triggered on hover */\r\n    let trueTooltip = (wrapper.dataset.trigger === 'hover');\r\n    tooltipEl.id = wrapper.dataset.tooltipId;\r\n\r\n    if (trueTooltip) {\r\n        wrapper.append(tooltipEl);\r\n        appendArrow(wrapper);\r\n        if (tooltipTarget.classList.contains('tooltip-is-label')) {\r\n            tooltipTarget.setAttribute('aria-labelledby', wrapper.dataset.tooltipId);\r\n        }\r\n        else {\r\n            tooltipTarget.setAttribute('aria-describedby', wrapper.dataset.tooltipId);\r\n        }\r\n        tooltipEl.setAttribute('role', 'tooltip');\r\n        tooltipEl.innerText = wrapper.dataset.tooltip;\r\n\r\n        tooltipTarget.addEventListener('focus', function () {\r\n            showTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n        });\r\n\r\n        tooltipTarget.addEventListener('mouseover', function (e) {\r\n            /* The tooltip should not appear if the user just briefly moves the cursor \r\n               across the component. Use the 'js-hover' class as a flag to check, if\r\n               the hover action is persistant. */\r\n            tooltipTarget.classList.add('js-hover');\r\n            setTimeout(function () {\r\n                if (tooltipTarget.classList.contains('js-hover')) {\r\n                    showTooltip(wrapper, tooltipTarget, tooltipEl);\r\n                    updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n                }\r\n            }, 300);\r\n        });\r\n\r\n        tooltipTarget.addEventListener('pointerdown', function (e) {\r\n            /* The tooltip should appear after pressing down for a while on the element.\r\n               Use the 'js-pressed' class as a flag to check, if the element stays pressed\r\n               down. */\r\n            tooltipTarget.classList.add('js-pressed');\r\n            setTimeout(function () {\r\n                if (tooltipTarget.classList.contains('js-pressed')) {\r\n                    showTooltip(wrapper, tooltipTarget, tooltipEl);\r\n                    updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n                }\r\n            }, 500);\r\n        });\r\n\r\n        tooltipTarget.addEventListener('mouseleave', function (e) {\r\n            tooltipTarget.classList.remove('js-hover');\r\n            tooltipTarget.classList.remove('js-pressed');\r\n            let center = (tooltipTarget.getBoundingClientRect().top + tooltipTarget.getBoundingClientRect().bottom) / 2; // Use center of target due to rounding errors\r\n            let onTooltip = false;\r\n            if (wrapper.classList.contains('place-above')) {\r\n                onTooltip = tooltipTarget.getBoundingClientRect().left <= e.clientX && e.clientX <= tooltipTarget.getBoundingClientRect().right && e.clientY <= center;\r\n            }\r\n            else if (wrapper.classList.contains('place-below')) {\r\n                onTooltip = tooltipTarget.getBoundingClientRect().left <= e.clientX && e.clientX <= tooltipTarget.getBoundingClientRect().right && e.clientY >= center;\r\n            }\r\n            /* WCAG 1.4.13: It must be possible to hover on the tooltip */\r\n            if (!onTooltip) {\r\n                hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n        });\r\n\r\n        tooltipTarget.addEventListener('click', function (e) {\r\n            tooltipTarget.classList.remove('js-pressed');\r\n            if (document.activeElement !== tooltipTarget) {\r\n                /* The tooltip target was just clicked but is not the element with focus. That \r\n                   means it probably shouldn't show the tooltip, for example due to an opened \r\n                   modal. However, this also means that tooltip targets in Safari won't show \r\n                   tooltip on click, since click events in Safari don't focus the target. */\r\n                tooltipTarget.classList.remove('js-hover');\r\n                hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n        });\r\n\r\n        tooltipEl.addEventListener('mouseleave', function (e) {\r\n            tooltipTarget.classList.remove('js-hover');\r\n            tooltipTarget.classList.remove('js-pressed');\r\n            let center = (tooltipEl.getBoundingClientRect().top + tooltipEl.getBoundingClientRect().bottom) / 2; // Use center of tooltip due to rounding errors\r\n            let onTarget = false;\r\n            if (wrapper.classList.contains('place-above')) {\r\n                onTarget = tooltipEl.getBoundingClientRect().left <= e.clientX && e.clientX <= tooltipEl.getBoundingClientRect().right && e.clientY >= center;\r\n            }\r\n            else if (wrapper.classList.contains('place-below')) {\r\n                onTarget = tooltipEl.getBoundingClientRect().left <= e.clientX && e.clientX <= tooltipEl.getBoundingClientRect().right && e.clientY <= center;\r\n            }\r\n            /* Don't remove tooltip if hover returns to the target which triggered the tooltip */\r\n            if (!onTarget) {\r\n                hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n        });\r\n\r\n        /* If the mouse leaves while in the gap between the target and the tooltip,\r\n           ensure that the tooltip closes */\r\n        wrapper.addEventListener('mouseleave', function (e) {\r\n            tooltipTarget.classList.remove('js-hover');\r\n            tooltipTarget.classList.remove('js-pressed');\r\n            hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n        });\r\n    }\r\n    /* The \"tooltip\" is actually a \"toggletip\", i.e. a button which turns a tip on or off */\r\n    else {\r\n        let live_region = document.createElement('span');\r\n        live_region.setAttribute('aria-live', 'assertive');\r\n        live_region.setAttribute('aria-atomic', 'true');\r\n        wrapper.append(live_region);\r\n        live_region.append(tooltipEl);\r\n        appendArrow(wrapper);\r\n        tooltipTarget.setAttribute('aria-expanded', 'false');\r\n        tooltipTarget.setAttribute('aria-controls', wrapper.dataset.tooltipId);\r\n        tooltipTarget.addEventListener('click', function () {\r\n            if (wrapper.classList.contains('hide-tooltip')) {\r\n                showTooltip(wrapper, tooltipTarget, tooltipEl);\r\n                updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n            else {\r\n                hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nfunction appendArrow(tooltipWrapper) {\r\n    let arrow = document.createElement('span');\r\n    arrow.classList.add('tooltip-arrow');\r\n    arrow.setAttribute('aria-hidden', true);\r\n    tooltipWrapper.append(arrow);\r\n}\r\n\r\nfunction setWidth(tooltipEl) {\r\n    tooltipEl.style.width = 'max-content';\r\n    let WCAG_Reflow_criteria = 320; // Width of 320 px defined in WCAG 2.1, Criterion 1.4.10 \"Reflow\"\r\n    let accessibleMaxWidth = WCAG_Reflow_criteria - (MIN_MARGIN * 2);\r\n    if (parseInt(window.getComputedStyle(tooltipEl).width) > accessibleMaxWidth) {\r\n        tooltipEl.style.width = accessibleMaxWidth + 'px';\r\n    }\r\n    let screenMaxWidth = document.body.clientWidth - (MIN_MARGIN * 2);\r\n    if (parseInt(window.getComputedStyle(tooltipEl).width) > screenMaxWidth) {\r\n        tooltipEl.style.width = screenMaxWidth + 'px';\r\n    }\r\n}\r\n\r\nfunction placeAboveOrBelow(tooltipWrapper, tooltipTarget, tooltipEl) {\r\n    let spaceAbove = tooltipTarget.getBoundingClientRect().top;\r\n    let spaceBelow = window.innerHeight - tooltipTarget.getBoundingClientRect().bottom;\r\n    let height = tooltipEl.getBoundingClientRect().height + ARROW_DISTANCE_TO_TARGET + ARROW_HEIGHT;\r\n    let placement = 'above'; // Default placement\r\n    if (tooltipWrapper.dataset.position === 'below' && spaceBelow >= height || (height > spaceAbove && height <= spaceBelow)) {\r\n        placement = 'below';\r\n    }\r\n    if (placement === 'above') {\r\n        tooltipWrapper.classList.add('place-above');\r\n        tooltipWrapper.classList.remove('place-below');\r\n    }\r\n    else if (placement === 'below') {\r\n        tooltipWrapper.classList.add('place-below');\r\n        tooltipWrapper.classList.remove('place-above');\r\n    }\r\n}\r\n\r\nfunction setLeft(tooltipTarget, tooltipEl) {\r\n    /* Center the tooltip on the tooltip arrow */\r\n    let left = (parseInt(tooltipTarget.getBoundingClientRect().width) - parseInt(tooltipEl.getBoundingClientRect().width))/2;\r\n    tooltipEl.style.left = left + 'px';\r\n    /* If the tooltip exceeds the left side of the screen, adjust it */\r\n    if (tooltipEl.getBoundingClientRect().left < MIN_MARGIN) {\r\n        let adjustedLeft = 0 - parseInt(tooltipTarget.getBoundingClientRect().left) + MIN_MARGIN;\r\n        tooltipEl.style.left = adjustedLeft + 'px';\r\n    }\r\n    /* If the tooltip exceeds the right side of the screen, adjust it */\r\n    else if (tooltipEl.getBoundingClientRect().right > (document.body.clientWidth - MIN_MARGIN)) {\r\n        let adjustedLeft = parseInt(window.getComputedStyle(tooltipEl).left) - (tooltipEl.getBoundingClientRect().right - document.body.clientWidth + MIN_MARGIN);\r\n        tooltipEl.style.left = adjustedLeft + 'px';\r\n    }\r\n}\r\n\r\nfunction setBottomAndTop(tooltipWrapper, tooltipEl) {\r\n    let total = 0 - tooltipEl.getBoundingClientRect().height - ARROW_HEIGHT - ARROW_DISTANCE_TO_TARGET + 1;\r\n    if (tooltipWrapper.classList.contains('place-above')) {\r\n        tooltipEl.style.top = total + 'px';\r\n        tooltipEl.style.bottom = 'auto';\r\n    }\r\n    else if (tooltipWrapper.classList.contains('place-below')) {\r\n        tooltipEl.style.bottom = total + 'px';\r\n        tooltipEl.style.top = 'auto';\r\n    }\r\n}\r\n\r\nfunction updateTooltipPosition(tooltipWrapper, tooltipTarget, tooltipEl) {\r\n    setWidth(tooltipEl);\r\n    placeAboveOrBelow(tooltipWrapper, tooltipTarget, tooltipEl);\r\n    setLeft(tooltipTarget, tooltipEl);\r\n    setBottomAndTop(tooltipWrapper, tooltipEl);\r\n}\r\n\r\nfunction hideTooltip(tooltipWrapper, tooltipTarget, tooltipEl) {\r\n    tooltipWrapper.classList.add('hide-tooltip');\r\n    if (tooltipTarget.hasAttribute('aria-expanded')) {\r\n        tooltipTarget.setAttribute('aria-expanded', 'false');\r\n        tooltipEl.innerText = \"\";\r\n    }\r\n}\r\n\r\nfunction showTooltip(tooltipWrapper, tooltipTarget, tooltipEl) {\r\n    tooltipWrapper.classList.remove('hide-tooltip');\r\n    if (tooltipTarget.hasAttribute('aria-expanded')) {\r\n        tooltipTarget.setAttribute('aria-expanded', 'true');\r\n        tooltipEl.innerText = tooltipWrapper.dataset.tooltip;\r\n    }\r\n}\r\n\r\nfunction closeAllTooltips(event) {\r\n    let tooltips = document.getElementsByClassName('tooltip-wrapper');\r\n    for (let t = 0; t < tooltips.length; t++) {\r\n        let wrapper = tooltips[t];\r\n        let target = wrapper.getElementsByClassName('tooltip-target')[0];\r\n        let tooltip = wrapper.getElementsByClassName('tooltip')[0];\r\n        let clickedOnTarget = target.getBoundingClientRect().left <= event.clientX && \r\n                              event.clientX <= target.getBoundingClientRect().right && \r\n                              target.getBoundingClientRect().top <= event.clientY && \r\n                              event.clientY <= target.getBoundingClientRect().bottom;\r\n        let clickedOnTooltip = window.getComputedStyle(tooltip).display !== 'none' &&\r\n                               tooltip.getBoundingClientRect().left <= event.clientX && \r\n                               event.clientX <= tooltip.getBoundingClientRect().right && \r\n                               tooltip.getBoundingClientRect().top <= event.clientY && \r\n                               event.clientY <= tooltip.getBoundingClientRect().bottom;\r\n        if (!clickedOnTarget && target !== document.activeElement && !clickedOnTooltip) {\r\n            hideTooltip(wrapper, target, tooltip);\r\n        }\r\n    }\r\n}\r\n\r\nfunction closeOnTab(e) {\r\n    let key = e.key;\r\n    let tooltips = document.getElementsByClassName('tooltip-wrapper');\r\n    if (key === 'Tab') {\r\n        for (let t = 0; t < tooltips.length; t++) {\r\n            let wrapper = tooltips[t];\r\n            let target = wrapper.getElementsByClassName('tooltip-target')[0];\r\n            let tooltip = wrapper.getElementsByClassName('tooltip')[0];\r\n            /* If the user is tabbing to an element, where a tooltip already is open,\r\n               keep it open */\r\n            if (document.activeElement !== target) {\r\n                hideTooltip(wrapper, target, tooltip);\r\n            }\r\n        }\r\n    }\r\n    else if (key === 'Escape') {\r\n        for (let t = 0; t < tooltips.length; t++) {\r\n            let wrapper = tooltips[t];\r\n            let target = wrapper.getElementsByClassName('tooltip-target')[0];\r\n            let tooltip = wrapper.getElementsByClassName('tooltip')[0];\r\n            hideTooltip(wrapper, target, tooltip);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Tooltip;\r\n","'use strict';\r\n\r\nimport * as Glossary from './fds-input-glossary';\r\nimport {isValidText, isValidInteger, isValidType, isTrue} from './fds-input-attribute-validators';\r\nimport * as Helpers from './fds-input-helpers';\r\nimport * as HandleAttributeChange from './fds-input-attribute-changes';\r\nimport * as Build from './fds-input-build-element';\r\nimport Tooltip from '../../components/tooltip';\r\n\r\nclass FDSInput extends HTMLElement {\r\n    \r\n    /* Private instance fields */\r\n\r\n    #wrapperElement;\r\n    #labelElement;\r\n    #tooltipElement;\r\n    #helptextElement;\r\n    #errorElement;\r\n    #editWrapperElement;\r\n    #inputWrapperElement;\r\n    #prefixElement;\r\n    #inputElement;\r\n    #suffixElement;\r\n    #editButtonElement;\r\n    #characterLimitElement;\r\n\r\n    #handleEditClicked;\r\n    #handleKeyUp;\r\n    #handleBlur;\r\n    #handleFocus;\r\n    #handlePageShow;\r\n\r\n    #glossary;\r\n    #connected\r\n    #initialized;\r\n    #triggerRebuild;\r\n\r\n    #lastKeyUpTimestamp;\r\n    #oldValue;\r\n    #intervalID;\r\n\r\n    /* Private methods */\r\n\r\n    #init() {\r\n        if (!this.#initialized) {\r\n            this.#wrapperElement        = Build.createWrapperElement();\r\n            this.#labelElement          = Build.createLabelElement();\r\n            this.#tooltipElement        = Build.createTooltipElement(this.#glossary);\r\n            this.#helptextElement       = Build.createHelptextElement();\r\n            this.#errorElement          = Build.createErrorElement();\r\n            this.#editWrapperElement    = Build.createEditWrapperElement();\r\n            this.#inputWrapperElement   = Build.createInputWrapperElement();\r\n            this.#prefixElement         = Build.createPrefixElement();\r\n            this.#inputElement          = Build.createInputElement();\r\n            this.#suffixElement         = Build.createSuffixElement();\r\n            this.#editButtonElement     = Build.createEditButtonElement(this.#handleEditClicked);\r\n            this.#characterLimitElement = Build.createCharacterLimitElement();\r\n    \r\n            this.#initialized = true;\r\n        }\r\n    }\r\n\r\n    #rebuildElement() {\r\n        // Reset HTML\r\n        this.#wrapperElement.innerHTML = '';\r\n        this.#inputWrapperElement.innerHTML = '';\r\n        this.#inputElement.removeAttribute('aria-describedby');\r\n        if (isValidText(this.label)) {\r\n            this.#labelElement.textContent = this.label;\r\n        }\r\n\r\n        // Update IDs\r\n        Helpers.setHelptextId(this.#helptextElement, this.#inputElement);\r\n        Helpers.setErrorId(this.#errorElement, this.#inputElement);\r\n        Helpers.setCharacterLimitId(this.#characterLimitElement, this.#inputElement);\r\n        Helpers.setTooltipId(this.#tooltipElement, this.#inputElement);\r\n\r\n        // Set up aria-describedby attribute\r\n        Build.setInputAriaDescribedBy(\r\n            this.error, this.helptext, this.maxchar, \r\n            this.#errorElement, this.#helptextElement, this.#characterLimitElement, \r\n            this.#inputElement\r\n        );\r\n\r\n        // Set up edit button\r\n        if (isTrue(this.editbutton) && isValidText(this.label)) {\r\n            Helpers.updateEditButton(this.#editButtonElement, this.label, this.#glossary['editText']);\r\n        }\r\n\r\n        // Update error message\r\n        if (isValidText(this.error)) {\r\n            Helpers.updateErrorMessage(this.#errorElement, this.error, this.#glossary['errorText']);\r\n        }\r\n        \r\n        // Add label\r\n        if (isValidText(this.label)) {\r\n            this.#wrapperElement.appendChild(this.#labelElement);\r\n        }\r\n        \r\n        // Add 'required' label\r\n        if (isTrue(this.showrequired) && isValidText(this.label)) {\r\n            Helpers.updateRequiredLabel(this.#labelElement, this.label, this.#glossary['requiredText']);\r\n        }\r\n\r\n        // Add 'optional' label\r\n        if (isTrue(this.showoptional) && isValidText(this.label)) {\r\n            Helpers.updateOptionalLabel(this.#labelElement, this.label, this.#glossary['optionalText']);\r\n        }\r\n\r\n        // Add tooltip\r\n        if (isValidText(this.tooltip)) { \r\n            this.#wrapperElement.appendChild(this.#tooltipElement);\r\n            if (this.#tooltipElement.querySelector('.tooltip-arrow') === null) {\r\n                new Tooltip(this.#tooltipElement).init();\r\n            }\r\n        }\r\n\r\n        // Add helptext\r\n        if (isValidText(this.helptext)) { \r\n            this.#wrapperElement.appendChild(this.#helptextElement); \r\n        }\r\n\r\n        // Add error message\r\n        if (isValidText(this.error)) { \r\n            this.#wrapperElement.appendChild(this.#errorElement); \r\n        }\r\n\r\n        // Add wrapper for edit button\r\n        if (isTrue(this.editbutton) && isTrue(this.readonly)) {\r\n            this.#wrapperElement.appendChild(this.#editWrapperElement);\r\n        }\r\n\r\n        // Add wrapper for prefix and suffix\r\n        if (isValidText(this.prefix) || isValidText(this.suffix)) {\r\n            if (isTrue(this.editbutton) && isTrue(this.readonly)) {\r\n                this.#editWrapperElement.appendChild(this.#inputWrapperElement);\r\n            }\r\n            else {\r\n                this.#wrapperElement.appendChild(this.#inputWrapperElement);\r\n            }\r\n        }\r\n\r\n        // Add prefix\r\n        if (isValidText(this.prefix)) { \r\n            this.#inputWrapperElement.appendChild(this.#prefixElement); \r\n        }\r\n\r\n        // Add input\r\n        if (isValidText(this.label)) {\r\n            if (isValidText(this.prefix) || isValidText(this.suffix)) {\r\n                this.#inputWrapperElement.appendChild(this.#inputElement);\r\n            }\r\n            else if (isTrue(this.editbutton) && isTrue(this.readonly)) {\r\n                this.#editWrapperElement.appendChild(this.#inputElement);\r\n            }\r\n            else {\r\n                this.#wrapperElement.appendChild(this.#inputElement);\r\n            }\r\n        }\r\n        \r\n        // Add suffix\r\n        if (isValidText(this.suffix)) { \r\n            this.#inputWrapperElement.appendChild(this.#suffixElement); \r\n        }\r\n\r\n        // Add edit button\r\n        if (isTrue(this.editbutton) && isTrue(this.readonly)) {\r\n            this.#editWrapperElement.appendChild(this.#editButtonElement);\r\n        }\r\n\r\n        // Add character limit\r\n        if (isValidInteger(this.maxchar)) {\r\n            this.#wrapperElement.appendChild(this.#characterLimitElement);\r\n        }\r\n    }\r\n\r\n    #removeReadOnly() {\r\n        if (this.hasAttribute('readonly')) {\r\n            this.removeAttribute('readonly');\r\n            this.#inputElement.focus();\r\n            let eventEditClicked = new Event('fds-edit-clicked');\r\n            this.dispatchEvent(eventEditClicked);\r\n        }\r\n    }\r\n\r\n    /* Attributes which can invoke attributeChangedCallback() */\r\n\r\n    static observedAttributes = ['autocomplete', 'disabled', 'editbutton', 'error', 'helptext', 'inputid', 'label', 'maxchar', 'maxwidth', 'name', 'prefix', 'readonly', 'required', 'showoptional', 'showrequired', 'suffix', 'tooltip', 'type', 'value'];\r\n\r\n    /*\r\n    --------------------------------------------------\r\n    ATTRIBUTE GETTERS AND SETTERS\r\n    --------------------------------------------------\r\n    */\r\n\r\n    get autocomplete() { return this.getAttribute('autocomplete'); }\r\n    set autocomplete(val) { this.setAttribute('autocomplete', val); }\r\n\r\n    get disabled() { return this.getAttribute('disabled'); }\r\n    set disabled(val) { this.setAttribute('disabled', val); }\r\n\r\n    get editbutton() { return this.getAttribute('editbutton'); }\r\n    set editbutton(val) { this.setAttribute('editbutton', val); }\r\n\r\n    get error() { return this.getAttribute('error'); }\r\n    set error(val) { this.setAttribute('error', val); }\r\n\r\n    get helptext() { return this.getAttribute('helptext'); }\r\n    set helptext(val) { this.setAttribute('helptext', val); }\r\n\r\n    get inputid() { return this.getAttribute('inputid'); }\r\n    set inputid(val) { this.setAttribute('inputid', val); }\r\n\r\n    get label() { return this.getAttribute('label'); }\r\n    set label(val) { this.setAttribute('label', val); }\r\n\r\n    get maxchar() { return this.getAttribute('maxchar'); }\r\n    set maxchar(val) { this.setAttribute('maxchar', val); }\r\n\r\n    get maxwidth() { return this.getAttribute('maxwidth'); }\r\n    set maxwidth(val) { this.setAttribute('maxwidth', val); }\r\n\r\n    get name() { return this.getAttribute('name'); }\r\n    set name(val) { this.setAttribute('name', val); }\r\n\r\n    get prefix() { return this.getAttribute('prefix'); }\r\n    set prefix(val) { this.setAttribute('prefix', val); }\r\n\r\n    get readonly() { return this.getAttribute('readonly'); }\r\n    set readonly(val) { this.setAttribute('readonly', val); }\r\n\r\n    get required() { return this.getAttribute('required'); }\r\n    set required(val) { this.setAttribute('required', val); }\r\n\r\n    get showoptional() { return this.getAttribute('showoptional'); }\r\n    set showoptional(val) { this.setAttribute('showoptional', val); }\r\n\r\n    get showrequired() { return this.getAttribute('showrequired'); }\r\n    set showrequired(val) { this.setAttribute('showrequired', val); }\r\n\r\n    get suffix() { return this.getAttribute('suffix'); }\r\n    set suffix(val) { this.setAttribute('suffix', val); }\r\n\r\n    get tooltip() { return this.getAttribute('tooltip'); }\r\n    set tooltip(val) { this.setAttribute('tooltip', val); }\r\n\r\n    get type() { return this.getAttribute('type'); }\r\n    set type(val) { this.setAttribute('type', val); }\r\n    \r\n    get value() { return this.#inputElement.value; }\r\n    set value(val) { this.#inputElement.value = val; }\r\n\r\n    /*\r\n    --------------------------------------------------\r\n    CUSTOM ELEMENT CONSTRUCTOR (do not access or add attributes in the constructor)\r\n    --------------------------------------------------\r\n    */\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.#initialized = false;\r\n        this.#connected = false;\r\n        this.#glossary = Glossary.glossary;\r\n\r\n        this.#triggerRebuild = ['label', 'inputid', 'readonly', 'helptext', 'error', 'prefix', 'suffix', 'editbutton', 'showrequired', 'showoptional', 'maxchar', 'tooltip'];\r\n\r\n        this.#lastKeyUpTimestamp = null;\r\n        this.#oldValue = '';\r\n        this.#intervalID = null;\r\n\r\n        this.#handleEditClicked = () => { this.#removeReadOnly() };\r\n        this.#handleKeyUp = () => {\r\n            let chars = this.charactersLeft();\r\n            Helpers.updateVisibleMessage(this.#glossary, chars, this.#inputElement, this.#characterLimitElement);\r\n            this.#lastKeyUpTimestamp = Date.now();\r\n        };\r\n        this.#handleFocus = () => {\r\n            /* Reset the screen reader message on focus to force an update of the message.\r\n            This ensures that a screen reader informs the user of how many characters there is left\r\n            on focus and not just what the character limit is. */\r\n            if (this.#inputElement.value !== \"\") {\r\n                let srMessage = this.#characterLimitElement.querySelector('.sr-message');\r\n                srMessage.innerHTML = '';\r\n            }\r\n        \r\n            this.#intervalID = setInterval(function () {\r\n                /* Don't update the Screen Reader message unless it's been awhile\r\n                since the last key up event. Otherwise, the user will be spammed\r\n                with audio notifications while typing. */\r\n                if (!this.#lastKeyUpTimestamp || (Date.now() - 500) >= this.#lastKeyUpTimestamp) {\r\n                    let srMessage = this.#characterLimitElement.querySelector('.sr-message').innerHTML;\r\n                    let visibleMessage = this.#characterLimitElement.querySelector('.visible-message').innerHTML;     \r\n        \r\n                    /* Don't update the messages unless the input has changed or if there\r\n                    is a mismatch between the visible message and the screen reader message. */\r\n                    if (this.#oldValue !== this.#inputElement.value || srMessage !== visibleMessage) {\r\n                        this.#oldValue = this.#inputElement.value;\r\n                        this.updateMessages();\r\n                    }\r\n                }\r\n            }.bind(this), 1000);\r\n        };\r\n        this.#handleBlur = () => {\r\n            clearInterval(this.#intervalID);\r\n            // Don't update the messages on blur unless the value of the textarea/text input has changed\r\n            if (this.#oldValue !== this.#inputElement.value) {\r\n                this.#oldValue = this.#inputElement.value;\r\n                this.updateMessages();\r\n            }\r\n        };\r\n        this.#handlePageShow = () => {\r\n            this.updateMessages();\r\n        };\r\n    }\r\n\r\n    /*\r\n    --------------------------------------------------\r\n    CUSTOM ELEMENT FUNCTIONS\r\n    --------------------------------------------------\r\n    */\r\n\r\n    getLabelElement() {\r\n        return this.#labelElement;\r\n    }\r\n\r\n    getInputElement() {\r\n        return this.#inputElement;\r\n    }\r\n\r\n    updateGlossary(newGlossary) {\r\n        Glossary.updateGlossary(this.#glossary, newGlossary);\r\n\r\n        /* Check if the old text is (potentially) visible to the user */\r\n        let updateErrorTextNow = newGlossary['errorText'] !== undefined && isValidText(this.error);\r\n        let updateEditTextNow = newGlossary['editText'] !== undefined && isValidText(this.label) && isTrue(this.editbutton);\r\n        let updateRequiredTextNow = newGlossary['requiredText'] !== undefined && isValidText(this.label) && isTrue(this.showrequired);\r\n        let updateOptionalTextNow = newGlossary['optionalText'] !== undefined && isValidText(this.label) && isTrue(this.showoptional);\r\n        let updateCharactersTextNow = newGlossary['oneCharacterLeftText'] || newGlossary['manyCharactersLeftText'] || \r\n                                      newGlossary['oneCharacterExceededText'] || newGlossary['manyCharactersExceededText'];\r\n        let updateMaxCharactersTextNow = newGlossary['maxCharactersText'] !== undefined && isValidInteger(this.maxchar);\r\n        let updateTooltipIconText = newGlossary['tooltipIconText'] !== undefined;\r\n\r\n        /* If the old text is visible to the user, update it immediately */\r\n        if (updateErrorTextNow) {\r\n            Helpers.updateErrorMessage(this.#errorElement, this.error, this.#glossary['errorText']);\r\n        }\r\n        if (updateEditTextNow) {\r\n            Helpers.updateEditButton(this.#editButtonElement, this.label, this.#glossary['editText']);\r\n        }\r\n        if (updateRequiredTextNow) {\r\n            Helpers.updateRequiredLabel(this.#labelElement, this.label, this.#glossary['requiredText']);\r\n        }\r\n        if (updateOptionalTextNow) {\r\n            Helpers.updateOptionalLabel(this.#labelElement, this.label, this.#glossary['optionalText']);\r\n        }\r\n        if (updateCharactersTextNow) {\r\n            /* Prevent screen readers from announcing the glossary change */\r\n            let maxLimitText = this.#characterLimitElement.querySelector('.max-limit').innerHTML;\r\n            this.#characterLimitElement.innerHTML = \r\n                '<span class=\"max-limit\">' + maxLimitText + '</span>' + \r\n                '<span class=\"visible-message form-hint\" aria-hidden=\"true\"></span>' + \r\n                '<span class=\"sr-message\"></span>';\r\n            this.updateMessages();\r\n            this.#characterLimitElement.querySelector('.sr-message').setAttribute('aria-live', 'polite');\r\n        }\r\n        if (updateMaxCharactersTextNow) {\r\n            this.#characterLimitElement.querySelector('.max-limit').innerHTML = this.#glossary['maxCharactersText'].replace(/{value}/, this.maxchar);\r\n        }\r\n        if (updateTooltipIconText) {\r\n            this.#tooltipElement.querySelector('button').setAttribute('aria-label', this.#glossary['tooltipIconText']);\r\n        }\r\n    }\r\n\r\n    charactersLeft() {\r\n        if (isValidInteger(this.maxchar)) {\r\n            let currentLength = this.#inputElement.value.length;\r\n            return parseInt(this.maxchar) - currentLength;\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    updateMessages() {\r\n        if (isValidInteger(this.maxchar)) {\r\n            let chars = this.charactersLeft();\r\n            Helpers.updateVisibleMessage(this.#glossary, chars, this.#inputElement, this.#characterLimitElement);\r\n            Helpers.updateSRMessage(this.#glossary, chars, this.#characterLimitElement);\r\n        }\r\n    }\r\n\r\n    /*\r\n    --------------------------------------------------\r\n    CUSTOM ELEMENT ADDED TO DOCUMENT\r\n    --------------------------------------------------\r\n    */\r\n\r\n    connectedCallback() {\r\n\r\n        /* Element setup. Only called at this point if the element was created without attributes. */\r\n        this.#init();\r\n\r\n        /* Remove any initial content from the custom element */\r\n        this.innerHTML = '';\r\n\r\n        /* Ensure input always has an ID and type */\r\n        if (!isValidText(this.inputid)) {\r\n            Helpers.setDefaultInputId(this.#labelElement, this.#inputElement);\r\n        }\r\n        if (!isValidType(this.type)) {\r\n            Helpers.setDefaultType(this.#inputElement);\r\n        }\r\n\r\n        this.#rebuildElement();\r\n        this.appendChild(this.#wrapperElement);\r\n\r\n        if (isValidInteger(this.maxchar)) {\r\n            this.#inputElement.addEventListener('keyup', this.#handleKeyUp, false);\r\n            this.#inputElement.addEventListener('focus', this.#handleFocus, false);\r\n            this.#inputElement.addEventListener('blur', this.#handleBlur, false);\r\n            window.addEventListener('pageshow', this.#handlePageShow, false);\r\n        }\r\n        \r\n        this.#connected = true;\r\n    }\r\n\r\n    /* \r\n    --------------------------------------------------\r\n    CUSTOM ELEMENT REMOVED FROM DOCUMENT\r\n    --------------------------------------------------\r\n    */ \r\n\r\n    disconnectedCallback() { }\r\n\r\n    /*\r\n    --------------------------------------------------\r\n    CUSTOM ELEMENT'S ATTRIBUTE(S) CHANGED\r\n    --------------------------------------------------\r\n    */\r\n\r\n    attributeChangedCallback(attribute, oldValue, newValue) {\r\n\r\n        /* Element setup. Applied once on the first call to attributeChangedCallback() before connectedCallback(). */\r\n\r\n        this.#init();\r\n\r\n        /* Attribute changes (editbutton, showoptional, and showrequired handled in rebuild step) */\r\n\r\n        if (attribute === 'autocomplete') {\r\n            HandleAttributeChange.autocomplete(newValue, this.#inputElement);\r\n        }\r\n\r\n        if (attribute === 'disabled') {\r\n            HandleAttributeChange.disabled(newValue, this.#labelElement, this.#inputElement, this.#inputWrapperElement);\r\n        }\r\n\r\n        if (attribute === 'error') {\r\n            HandleAttributeChange.error(newValue, this.#wrapperElement, this.#inputElement);\r\n        }\r\n\r\n        if (attribute === 'helptext') {\r\n            HandleAttributeChange.helptext(newValue, this.#helptextElement);\r\n        }\r\n\r\n        if (attribute === 'inputid') { \r\n            HandleAttributeChange.inputid(newValue, this.#labelElement, this.#inputElement); \r\n        }\r\n\r\n        if (attribute === 'label') { \r\n            HandleAttributeChange.label(newValue, this.#labelElement); \r\n        }\r\n\r\n        if (attribute === 'maxchar') {\r\n            HandleAttributeChange.maxchar(newValue, this.#inputElement, this.#characterLimitElement, this.#connected, this.#glossary, this.#handleKeyUp, this.#handleFocus, this.#handleBlur, this.#handlePageShow, this.value, this.contains(this.#characterLimitElement));\r\n        }\r\n\r\n        if (attribute === 'maxwidth') {\r\n            HandleAttributeChange.maxwidth(newValue, this.#inputElement);\r\n        }\r\n\r\n        if (attribute === 'name') { \r\n            HandleAttributeChange.name(newValue, this.#inputElement); \r\n        }\r\n\r\n        if (attribute === 'prefix') {\r\n            HandleAttributeChange.prefix(newValue, this.#inputWrapperElement, this.#prefixElement);\r\n        }\r\n\r\n        if (attribute === 'readonly') {\r\n            HandleAttributeChange.readonly(newValue, this.#inputElement, this.#inputWrapperElement);\r\n        }\r\n\r\n        if (attribute === 'required') {\r\n            HandleAttributeChange.required(newValue, this.#inputElement);\r\n        }\r\n\r\n        if (attribute === 'suffix') {\r\n            HandleAttributeChange.suffix(newValue, this.#inputWrapperElement, this.#suffixElement);\r\n        }\r\n\r\n        if (attribute === 'tooltip') {\r\n            HandleAttributeChange.tooltip(newValue, this.#tooltipElement);\r\n        }\r\n\r\n        if (attribute === 'type') {\r\n            HandleAttributeChange.type(newValue, this.#inputElement);\r\n        }\r\n\r\n        if (attribute === 'value') { \r\n            HandleAttributeChange.value(newValue, this.#inputElement, this.#characterLimitElement, this.#connected, this.#glossary, this.maxchar); \r\n        }\r\n\r\n        /* Update HTML */\r\n\r\n        if (this.#triggerRebuild.includes(attribute) && this.#initialized && this.#connected) {\r\n            this.#rebuildElement();\r\n        }\r\n    }\r\n}\r\n\r\nexport default FDSInput;","import FDSInput from './custom-elements/fds-input/fds-input';\r\n\r\nif (customElements.get('fds-input') === undefined) {\r\n    window.customElements.define('fds-input', FDSInput);\r\n}"],"names":["glossary","updateGlossary","oldGlossary","newGlossary","keys","Object","forEach","key","undefined","isValidType","type","TYPES","includes","isValidInteger","integer","number","parseInt","Number","isInteger","isValidText","s","String","trim","isTrue","b","setDefaultInputId","labelElement","inputElement","randomString","Date","now","toString","slice","Math","floor","random","setAttribute","setDefaultType","characterLimitMessage","charactersLeft","message","exceeded","abs","replace","updateVisibleMessage","characterLimitElement","newMessage","visibleMessage","querySelector","classList","add","remove","innerHTML","updateSRMessage","srMessage","setHelptextId","helptextElement","id","setErrorId","errorElement","setCharacterLimitId","setTooltipId","tooltipElement","dataset","tooltipId","updateErrorMessage","errorText","srText","updateEditButton","editButtonElement","labelText","editText","updateRequiredLabel","requiredText","updateOptionalLabel","optionalText","Helpers","autocomplete","newValue","removeAttribute","disabled","inputWrapperElement","error","wrapperElement","helptext","textContent","inputid","label","maxchar","connected","handleKeyUp","handleFocus","handleBlur","handlePageShow","value","containsCharacterLimit","charactersRemaining","length","addEventListener","window","removeEventListener","maxwidth","paddingPixels","borderPixels","style","maxWidth","width","name","prefix","prefixElement","readonly","required","suffix","suffixElement","tooltip","chars","createWrapperElement","document","createElement","createLabelElement","createTooltipElement","position","trigger","createHelptextElement","createErrorElement","createEditWrapperElement","editWrapperElement","createInputWrapperElement","createPrefixElement","createInputElement","createSuffixElement","createEditButtonElement","handleEditClicked","createCharacterLimitElement","setInputAriaDescribedBy","ariaDescribedBy","ARROW_DISTANCE_TO_TARGET","ARROW_HEIGHT","MIN_MARGIN","Tooltip","wrapper","getElementsByClassName","Error","hasAttribute","target","arrow","prototype","init","tooltipTarget","tooltipEl","hideTooltip","updateTooltipPosition","getElementsByTagName","closeAllTooltips","closeOnTab","trueTooltip","append","appendArrow","contains","innerText","showTooltip","e","setTimeout","center","getBoundingClientRect","top","bottom","onTooltip","left","clientX","right","clientY","activeElement","onTarget","live_region","tooltipWrapper","setWidth","WCAG_Reflow_criteria","accessibleMaxWidth","getComputedStyle","screenMaxWidth","body","clientWidth","placeAboveOrBelow","spaceAbove","spaceBelow","innerHeight","height","placement","setLeft","adjustedLeft","setBottomAndTop","total","event","tooltips","t","clickedOnTarget","clickedOnTooltip","display","Glossary","HandleAttributeChange","Build","FDSInput","HTMLElement","initialized","triggerRebuild","lastKeyUpTimestamp","oldValue","intervalID","#init","rebuildElement","#rebuildElement","editbutton","appendChild","showrequired","showoptional","removeReadOnly","#removeReadOnly","focus","eventEditClicked","Event","dispatchEvent","observedAttributes","getAttribute","val","constructor","setInterval","updateMessages","bind","clearInterval","getLabelElement","getInputElement","updateErrorTextNow","updateEditTextNow","updateRequiredTextNow","updateOptionalTextNow","updateCharactersTextNow","updateMaxCharactersTextNow","updateTooltipIconText","maxLimitText","currentLength","connectedCallback","disconnectedCallback","attributeChangedCallback","attribute","customElements","get","define"],"sourceRoot":""}
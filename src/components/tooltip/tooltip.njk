{% from "components/buttons/buttons.njk" import button as button %}

{%- macro tooltip(params) -%}
data-tooltip="{{ params.text }}"{% if params.showOnClick %} data-tooltip-trigger="click"{% endif %}{% if params.position %} data-tooltip-position="{{ params.position }}"{% endif %}
{%- endmacro -%}

{%- macro tooltipnew(params) -%}
{% set contentElement = params.contentElement | default('div') %}
{% set position = params.position | default('above') %}
<{{ contentElement }} class="tooltip-wrapper" data-tooltip="{{ params.text }}" data-tooltip-id="{{ params.id }}" data-position="{{ position }}" {% if params.trueTooltip %} data-trigger="hover"{% else %} data-trigger="click"{% endif %}>
    {{ params.target | safe }}
</{{ contentElement }}>
{%- endmacro -%}

{%- macro tooltip_helpicon(params) -%}
{% set target = 
    button({
        "variant": "unstyled",
        "attributes": "type=\"button\"",
        "classes": { "icon": "mr-0 mt-0", "button": "tooltip-target" },
        "srOnly": "Hvad betyder det?",
        "icon": "help"
    }) 
%}
{{ 
    tooltipnew({
        "text": params.text,
        "target": target,
        "position": params.position,
        "trueTooltip": false,
        "id": params.id
    }) 
}}
{%- endmacro -%}